(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[921],{7633:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profiles/[address]",function(){return n(9591)}])},9591:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ce}});var r=n(5893),s=n(7294),i=n(2351),a=n(9946),o=n(2984),l=n(1363),d=n(4575),c=n(6723),u=n(3784),f=n(4157),m=n(3855),p=n(6045);function b({onFocus:e}){let[t,n]=(0,s.useState)(!0);return t?s.createElement(p._,{as:"button",type:"button",features:p.A.Focusable,onFocus:t=>{t.preventDefault();let r,s=50;r=requestAnimationFrame((function t(){if(!(s--<=0))return e()?(n(!1),void cancelAnimationFrame(r)):void(r=requestAnimationFrame(t));r&&cancelAnimationFrame(r)}))}}):null}var g,x=n(3781),v=((g=v||{})[g.SetSelectedIndex=0]="SetSelectedIndex",g[g.RegisterTab=1]="RegisterTab",g[g.UnregisterTab=2]="UnregisterTab",g[g.RegisterPanel=3]="RegisterPanel",g[g.UnregisterPanel=4]="UnregisterPanel",g[g.ForceRerender=5]="ForceRerender",g);let h={0(e,t){let n=e.tabs.filter((e=>{var t;return!(null!=(t=e.current)&&t.hasAttribute("disabled"))}));if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(n[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(n[n.length-1])};let r=e.tabs.slice(0,t.index),s=[...e.tabs.slice(t.index),...r].find((e=>n.includes(e)));return s?{...e,selectedIndex:e.tabs.indexOf(s)}:e},1:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:(0,d.z2)([...e.tabs,t.tab],(e=>e.current))},2:(e,t)=>({...e,tabs:(0,d.z2)(e.tabs.filter((e=>e!==t.tab)),(e=>e.current))}),3:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},4:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),5:e=>({...e})},I=(0,s.createContext)(null);function y(e){let t=(0,s.useContext)(I);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,y),t}return t}I.displayName="TabsSSRContext";let w=(0,s.createContext)(null);function T(e){let t=(0,s.useContext)(w);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,T),t}return t}w.displayName="TabsDataContext";let j=(0,s.createContext)(null);function P(e){let t=(0,s.useContext)(j);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,P),t}return t}function N(e,t){return(0,o.E)(t.type,h,e,t)}j.displayName="TabsActionsContext";let D=s.Fragment,R=(0,i.yV)((function(e,t){let{defaultIndex:n=0,vertical:r=!1,manual:a=!1,onChange:o,selectedIndex:l=null,...d}=e;const f=r?"vertical":"horizontal",p=a?"manual":"auto";let g=(0,u.T)(t),[x,v]=(0,s.useReducer)(N,{selectedIndex:null!=l?l:n,tabs:[],panels:[]}),h=(0,s.useMemo)((()=>({selectedIndex:x.selectedIndex})),[x.selectedIndex]),y=(0,m.E)(o||(()=>{})),T=(0,m.E)(x.tabs),P=(0,s.useMemo)((()=>({orientation:f,activation:p,...x})),[f,p,x]),R=(0,m.E)(x.selectedIndex),S=(0,s.useMemo)((()=>({registerTab:e=>(v({type:1,tab:e}),()=>v({type:2,tab:e})),registerPanel:e=>(v({type:3,panel:e}),()=>v({type:4,panel:e})),forceRerender(){v({type:5})},change(e){R.current!==e&&y.current(e),R.current=e,v({type:0,index:e})}})),[v]);(0,c.e)((()=>{v({type:0,index:null!=l?l:n})}),[l]);let A=(0,s.useRef)({tabs:[],panels:[]}),F={ref:g};return s.createElement(I.Provider,{value:A},s.createElement(j.Provider,{value:S},s.createElement(w.Provider,{value:P},P.tabs.length<=0&&s.createElement(b,{onFocus:()=>{var e,t;for(let n of T.current)if(0===(null==(e=n.current)?void 0:e.tabIndex))return null==(t=n.current)||t.focus(),!0;return!1}}),(0,i.sY)({ourProps:F,theirProps:d,slot:h,defaultTag:D,name:"Tabs"}))))})),S=(0,i.yV)((function(e,t){let{orientation:n,selectedIndex:r}=T("Tab.List"),s=(0,u.T)(t);return(0,i.sY)({ourProps:{ref:s,role:"tablist","aria-orientation":n},theirProps:e,slot:{selectedIndex:r},defaultTag:"div",name:"Tabs.List"})})),A=(0,i.yV)((function(e,t){var n,r;let m=`headlessui-tabs-tab-${(0,a.M)()}`,{orientation:p,activation:b,selectedIndex:g,tabs:v,panels:h}=T("Tab"),I=P("Tab"),w=y("Tab"),j=(0,s.useRef)(null),N=(0,u.T)(j,t,(e=>{!e||I.forceRerender()}));(0,c.e)((()=>I.registerTab(j)),[I,j]);let D=w.current.tabs.indexOf(m);-1===D&&(D=w.current.tabs.push(m)-1);let R=v.indexOf(j);-1===R&&(R=D);let S=R===g,A=(0,x.z)((e=>{let t=v.map((e=>e.current)).filter(Boolean);if(e.key===l.R.Space||e.key===l.R.Enter)return e.preventDefault(),e.stopPropagation(),void I.change(R);switch(e.key){case l.R.Home:case l.R.PageUp:return e.preventDefault(),e.stopPropagation(),(0,d.jA)(t,d.TO.First);case l.R.End:case l.R.PageDown:return e.preventDefault(),e.stopPropagation(),(0,d.jA)(t,d.TO.Last)}return(0,o.E)(p,{vertical:()=>e.key===l.R.ArrowUp?(0,d.jA)(t,d.TO.Previous|d.TO.WrapAround):e.key===l.R.ArrowDown?(0,d.jA)(t,d.TO.Next|d.TO.WrapAround):void 0,horizontal:()=>e.key===l.R.ArrowLeft?(0,d.jA)(t,d.TO.Previous|d.TO.WrapAround):e.key===l.R.ArrowRight?(0,d.jA)(t,d.TO.Next|d.TO.WrapAround):void 0})?e.preventDefault():void 0})),F=(0,x.z)((()=>{var e;null==(e=j.current)||e.focus()})),O=(0,x.z)((()=>{var e;null==(e=j.current)||e.focus(),I.change(R)})),k=(0,x.z)((e=>{e.preventDefault()})),C=(0,s.useMemo)((()=>({selected:S})),[S]),E=e,K={ref:N,onKeyDown:A,onFocus:"manual"===b?F:O,onMouseDown:k,onClick:O,id:m,role:"tab",type:(0,f.f)(e,j),"aria-controls":null==(r=null==(n=h[R])?void 0:n.current)?void 0:r.id,"aria-selected":S,tabIndex:S?0:-1};return(0,i.sY)({ourProps:K,theirProps:E,slot:C,defaultTag:"button",name:"Tabs.Tab"})})),F=(0,i.yV)((function(e,t){let{selectedIndex:n}=T("Tab.Panels"),r=(0,u.T)(t),a=(0,s.useMemo)((()=>({selectedIndex:n})),[n]);return(0,i.sY)({ourProps:{ref:r},theirProps:e,slot:a,defaultTag:"div",name:"Tabs.Panels"})})),O=i.AN.RenderStrategy|i.AN.Static,k=(0,i.yV)((function(e,t){var n,r;let{selectedIndex:o,tabs:l,panels:d}=T("Tab.Panel"),f=P("Tab.Panel"),m=y("Tab.Panel"),p=`headlessui-tabs-panel-${(0,a.M)()}`,b=(0,s.useRef)(null),g=(0,u.T)(b,t,(e=>{!e||f.forceRerender()}));(0,c.e)((()=>f.registerPanel(b)),[f,b]);let x=m.current.panels.indexOf(p);-1===x&&(x=m.current.panels.push(p)-1);let v=d.indexOf(b);-1===v&&(v=x);let h=v===o,I=(0,s.useMemo)((()=>({selected:h})),[h]),w=e,j={ref:g,id:p,role:"tabpanel","aria-labelledby":null==(r=null==(n=l[v])?void 0:n.current)?void 0:r.id,tabIndex:h?0:-1};return(0,i.sY)({ourProps:j,theirProps:w,slot:I,defaultTag:"div",features:O,visible:h,name:"Tabs.Panel"})})),C=Object.assign(A,{Group:R,List:S,Panels:F,Panel:k});var E=n(387),K=n(1664),Z=n.n(K),L=n(104),V=n(5143),U=n(5697),_=n.n(U),M=n(8204),z=n(1667),W=n(6060);function q(e){var t=function(e){return{address:e.split("/")[0]}}(e).address;return null==t?Promise.resolve([]):z.IO({cadence:"import NonFungibleToken from 0xNonFungibleToken\nimport KittyItems from 0xKittyItems\n\npub fun main(address: Address): [UInt64] {\n  if let collection = getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n    return collection.getIDs()\n  }\n\n  return []\n}",args:function(e,n){return[z.R9(t,W.Address)]}})}var H=n(8100);function Y(e){var t=(0,H.ZP)(function(e){return"undefined"===typeof e?null:"".concat(e,"/account-items")}(e),q),n=t.data,r=t.error;return{data:n,error:r,isLoading:!n&&!r}}Y.propTypes={address:_().string};var G=n(3786);function J(e){var t=e.address,n=(0,G.Z)({owner:t}),s=n.listings,i=n.isLoading,a=Y(t),o=a.data,l=a.isAccountItemsLoading;if(i||l||!s||!o)return null;var d=s.map((function(e){return e.itemID})),c=null===o||void 0===o?void 0:o.filter((function(e){return!d.includes(e)}));return(0,r.jsx)("div",{children:(0,r.jsx)(M.Z,{accountItemIds:c.map((function(e){return{itemID:e,owner:t}}))})})}J.propTypes={address:_().string};function $(e){var t=function(e){var t=e.split("/");return{address:t[0],id:Number(t[t.length-1])}}(e),n=t.address,r=t.id;return null===n?Promise.resolve([]):z.lW([z._v("import NonFungibleToken from 0xNonFungibleToken\nimport MetadataViews from 0xMetadataViews\nimport NFTStorefrontV2 from 0xNFTStorefront\nimport KittyItems from 0xKittyItems\n\npub struct ListingItem {\n    pub let name: String\n    pub let description: String\n    pub let image: String\n\n    pub let itemID: UInt64\n    pub let resourceID: UInt64\n    pub let kind: KittyItems.Kind\n    pub let rarity: KittyItems.Rarity\n    pub let owner: Address\n    pub let price: UFix64\n\n    init(\n        name: String,\n        description: String,\n        image: String,\n        itemID: UInt64,\n        resourceID: UInt64,\n        kind: KittyItems.Kind,\n        rarity: KittyItems.Rarity,\n        owner: Address,\n        price: UFix64\n    ) {\n        self.name = name\n        self.description = description\n        self.image = image\n\n        self.itemID = itemID\n        self.resourceID = resourceID\n        self.kind = kind\n        self.rarity = rarity\n        self.owner = owner\n        self.price = price\n    }\n}\n\npub fun main(address: Address, listingResourceID: UInt64): ListingItem? {\n    if let storefrontRef = getAccount(address).getCapability<&NFTStorefrontV2.Storefront{NFTStorefrontV2.StorefrontPublic}>(NFTStorefrontV2.StorefrontPublicPath).borrow() {\n\n        if let listing = storefrontRef.borrowListing(listingResourceID: listingResourceID) {\n\n            let details = listing.getDetails()\n\n            let itemID = details.nftID\n            let itemPrice = details.salePrice\n\n            if let collection = getAccount(address).getCapability<&KittyItems.Collection{NonFungibleToken.CollectionPublic, KittyItems.KittyItemsCollectionPublic}>(KittyItems.CollectionPublicPath).borrow() {\n\n                if let item = collection.borrowKittyItem(id: itemID) {\n\n                    if let view = item.resolveView(Type<MetadataViews.Display>()) {\n\n                        let display = view as! MetadataViews.Display\n\n                        let owner: Address = item.owner!.address!\n\n                        let ipfsThumbnail = display.thumbnail as! MetadataViews.IPFSFile\n\n                        return ListingItem(\n                            name: display.name,\n                            description: display.description,\n                            image: item.imageCID(),\n                            itemID: itemID,\n                            resourceID: item.uuid,\n                            kind: item.kind,\n                            rarity: item.rarity,\n                            owner: address,\n                            price: itemPrice\n                        )\n                    }\n                }\n            }\n        }\n    }\n\n    return nil\n}"),z.WC([z.R9(n,W.Address),z.R9(r.toString(),W.UInt64)])]).then(z.Jx)}var B=n(2596);function Q(e,t){var n=(0,H.ZP)(function(e,t){return"undefined"===typeof e||"undefined"===typeof t?null:"".concat(e,"/listings/").concat(t)}(e,t),$),r=n.data,s=n.error;return{listing:r?(0,B.GZ)(r):void 0,error:s,isLoading:!r&&!s}}Q.propTypes={address:_().string,listingResourceID:_().number};var X=n(2031);function ee(e){var t=e.address,n=e.listingResourceID,s=e.showOwnerInfo,i=Q(t,n),a=i.listing;return i.isLoading||!a?null:(0,r.jsx)(X.Z,{item:a,showOwnerInfo:s})}ee.propTypes={address:_().string.isRequired,listingResourceID:_().number.isRequired,showOwnerInfo:_().bool};function te(e){var t=function(e){return{address:e.split("/")[0]}}(e).address;return null===t?Promise.resolve([]):z.lW([z._v('import NFTStorefrontV2 from 0xNFTStorefront\n\npub fun main(address: Address): [UInt64] {\n  let storefrontRef = getAccount(address)\n    .getCapability<&NFTStorefrontV2.Storefront{NFTStorefrontV2.StorefrontPublic}>(\n        NFTStorefrontV2.StorefrontPublicPath\n    )\n    .borrow()\n    ?? panic("Could not borrow public storefront from address")\n\n  return storefrontRef.getListingIDs()\n}'),z.WC([z.R9(t,W.Address)])]).then(z.Jx)}function ne(e){var t=(0,H.ZP)(function(e){return"undefined"===typeof e?null:"".concat(e,"/listings")}(e),te),n=t.data,r=t.error;return{data:n,error:r,isLoading:!n&&!r}}ne.propTypes={address:_().string};var re=n(1580);function se(e){var t=e.address,n=ne(t),s=n.data;return n.isLoading||s&&0!==(null===s||void 0===s?void 0:s.length)?(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:M.r,children:null===s||void 0===s?void 0:s.map((function(e){return(0,r.jsx)(ee,{address:t,listingResourceID:e,showOwnerInfo:!0},e)}))})}):(0,r.jsx)(re.Z,{})}se.propTypes={address:_().string};var ie=n(6215);function ae(){return(0,r.jsxs)(ie.J,{className:"relative flex flex-row-reverse w-80",children:[(0,r.jsx)(ie.J.Button,{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded-full hover:opacity-80",children:(0,r.jsx)("img",{src:"/images/question.svg",alt:"Questions?",width:"10",height:"12"})}),(0,r.jsx)(ie.J.Panel,{className:"absolute z-10 w-full p-4 bg-white border border-gray-100 rounded-lg shadow-lg mt-14",children:(0,r.jsx)("p",{children:"Welcome to your profile. Your Flow address is listed here. You can use it to send and receive Flow."})})]})}var oe=n(4358),le=n(9656),de=function(e){return"text-3xl mx-4 text-gray-darkest border-b-2 pb-0.5 hover:opacity-80 ".concat(e?"border-green":"border-transparent")};function ce(){var e=(0,E.useRouter)().query.address;return(0,r.jsxs)("div",{className:"main-container pt-12 pb-24","data-cy":"profile",children:[(0,r.jsx)(V.Z,{children:e}),(0,r.jsxs)("main",{children:[(0,r.jsxs)("div",{className:"bg-white border border-gray-200 p-6 mb-12 rounded-md flex flex-col items-center justify-center relative",children:[(0,r.jsx)("div",{className:"absolute top-5 right-5 w-full flex flex-row-reverse",children:(0,r.jsx)(ae,{})}),(0,r.jsx)("div",{className:"w-20 h-20 relative",children:(0,r.jsx)(L.Z,{address:e})}),(0,r.jsx)("div",{className:"font-mono text-gray mt-2",children:le.Z.chainEnv===oe.KQ?(0,r.jsx)(Z(),{href:oe.Hb.flowscanAcct(e),passHref:!0,children:(0,r.jsx)("a",{className:"hover:opacity-80",target:"_blank",children:e})}):e})]}),(0,r.jsxs)(C.Group,{children:[(0,r.jsxs)(C.List,{className:"text-center mb-12",children:[(0,r.jsx)(C,{as:s.Fragment,children:function(e){var t=e.selected;return(0,r.jsx)("button",{className:de(t),children:"My Items"})}}),(0,r.jsx)(C,{as:s.Fragment,children:function(e){var t=e.selected;return(0,r.jsx)("button",{className:de(t),children:"Listed Items"})}})]}),(0,r.jsxs)(C.Panels,{children:[(0,r.jsx)(C.Panel,{children:(0,r.jsx)(J,{address:e})}),(0,r.jsx)(C.Panel,{children:(0,r.jsx)(se,{address:e})})]})]})]})]})}},1580:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5893);function s(){return(0,r.jsx)("div",{className:"text-center text-lg my-20 text-gray-light",children:"0 Kitty Items"})}},2031:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(5893),s=n(1664),i=n.n(s),a=n(5697),o=n.n(a),l=n(4358),d=n(9872),c=n(1138),u=n(3802),f=n(6681),m=n(9018),p=n(4571);function b(e){var t=e.item,n=e.showOwnerInfo,s=e.size,a=void 0===s?"sm":s,o=e.isStoreItem,d=(0,c.Z)().currentUser,b=d&&t.owner===(null===d||void 0===d?void 0:d.addr),g=Number.isInteger(t.listingResourceID),x=!b&&g,v=l.Hb.profileItem(t.owner,t.itemID),h=(0,u.H)(t.rarity);return(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)(i(),{href:v,passHref:!0,children:(0,r.jsx)("a",{className:"w-full",children:(0,r.jsxs)(f.Z,{name:t.name,rarity:t.rarity,cid:t.image,address:t.owner,id:t.itemID,size:a,isStoreItem:o,classes:"item-image-container-hover",children:[o&&(0,r.jsx)("div",{className:"absolute top-3 left-3",children:(0,r.jsx)("div",{className:"bg-white py-1 px-4 font-bold text-sm rounded-full uppercase ".concat(h),children:"New"})}),x&&(0,r.jsx)("div",{className:"absolute bottom-7",children:(0,r.jsx)("div",{className:"bg-white ".concat(o?"py-3 px-9 text-lg":"py-2 px-6 text-md"," font-bold rounded-full shadow-md uppercase ").concat(h),children:"Purchase"})})]})})}),(0,r.jsxs)("div",{children:[n&&(0,r.jsx)(p.Z,{address:t.owner}),(0,r.jsxs)("div",{className:"flex justify-between items-center mt-5 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)(i(),{href:v,children:(0,r.jsx)("a",{className:"text-lg font-semibold",children:t.name})}),(0,r.jsx)(i(),{href:v,children:(0,r.jsxs)("a",{className:"text-sm font text-gray-light",children:["#",t.itemID]})})]}),(0,r.jsx)("div",{className:"flex items-center",children:g&&(0,r.jsx)(m.Z,{price:t.price})})]})]})]})}b.propTypes={item:d.d,showOwnerInfo:o().bool,size:o().string,isStoreItem:o().bool}},8204:function(e,t,n){"use strict";n.d(t,{Z:function(){return m},r:function(){return u}});var r=n(5893),s=n(5697),i=n.n(s),a=n(9872),o=n(1599),l=n(2031);function d(e){var t=e.address,n=e.itemID,s=e.showOwnerInfo,i=(0,o.ZP)(t,n),a=i.item;return i.isLoading||!a?null:(0,r.jsx)(l.Z,{item:a,showOwnerInfo:s})}d.propTypes={address:i().string.isRequired,itemID:i().number.isRequired,showOwnerInfo:i().bool};var c=n(1580),u="grid gap-y-16 grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 sm:gap-x-5 minh-50",f={minHeight:520};function m(e){var t=e.items,n=void 0===t?[]:t,s=e.accountItemIds,i=void 0===s?[]:s;return 0===n.length&&0===i.length?(0,r.jsx)(c.Z,{}):(0,r.jsxs)("div",{className:u,style:f,children:[n.map((function(e){return(0,r.jsx)(l.Z,{item:e,showOwnerInfo:!0},"".concat(e.itemID,"-").concat(e.listingResourceID))})),i.map((function(e){return(0,r.jsx)(d,{itemID:e.itemID,address:e.owner,showOwnerInfo:!0},e.itemID)}))]})}m.propTypes={items:i().arrayOf(a.d),accountItemIds:i().array}}},function(e){e.O(0,[572,774,888,179],(function(){return t=7633,e(e.s=t);var t}));var t=e.O();_N_E=t}]);
//# sourceMappingURL=[address]-a26d86d4d2fc7f4e.js.map